{% extends 'base_dashboard.html' %}

{% block extrahead %}
    <script>
        $(function () {
            var table = $('#dataTable').DataTable();
            table.order([0, 'desc']).draw();
        })
    </script>
{% endblock %}
{% block atras %}{% url 'productos' %}{% endblock %}
{% block dashboard %}
    <div class="container-fluid">
        <div class="card shadow mb-4">
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                        <thead>
                        <tr style="text-align: center">
                            <th style="width: 1%">Producto</th>
                            <th style="width: 1%">Fecha Movimiento</th>
                            <th style="width: 1%">Tipo Movimiento</th>
                            <th style="width: 1%">Cantidad</th>
                            <th style="width: 1%">Saldo Cantidad</th>
                            <th style="width: 1%">Precio Unitario</th>
                            <th style="width: 1%">Costo Unitario</th>
                            <th style="width: 1%">Costo Total</th>
                            <th style="width: 1%">Saldo Costo</th>
                            <th style="width: 5%">Lote</th>
                            <th style="width: 1%">Observaci√≥n</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for l in list %}
                            <tr style="text-align: center">
                                <td>{{ l.producto }}</td>
                                <td>{{ l.fecha_movimiento }}</td>
                                <td>{{ l.get_tipo_movimiento_display }}</td>
                                <td>{{ l.cantidad }}</td>
                                <td>{{ l.saldo_cantidad }}</td>
                                <td>${{ l.precio_unitario }}</td>
                                <td>${{ l.costo_unitario }}</td>
                                <td>${{ l.costo_total }}</td>
                                <td>${{ l.saldo_costo }}</td>
                                <td>{{ l.lote }}</td>
                                <td>{{ l.observacion|default:"" }}</td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

    </div>

{% endblock %}